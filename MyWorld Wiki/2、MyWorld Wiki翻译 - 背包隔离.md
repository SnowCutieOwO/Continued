# 1.配置
MyWorlds 拥有一套先进的系统，可将玩家数据分隔在不同的 "岛屿 "世界组中。这样，您就可以防止物品在不同世界流通，同时又允许它们在链接起来的生存世界之间流通。玩家数据以标准的 Minecraft NBT 格式保存在世界文件夹中。不使用特殊数据库。

要开始使用该系统，请在 `plugins/My_Worlds/config.yml` 中将 `useWorldInventories` 设置为 `true`。

开启后，所有世界都将拥有自己的背包状态。包括玩家的物品、经验、药水效果、健康值和饥饿值。通常情况下，所有玩家数据都存储在主世界（`world`）中。现在不再是这样，这意味着其他世界的玩家会看到自己的背包被清除。他们的物品还在，但只在主世界中。

如果你的服务器已有玩家，你必须安排**背包迁移**。备份主世界的玩家数据文件夹以确保玩家不会因为世界合并后背包配置缺失而丢失他们的背包/经验等。

首先，你可能需要合并主世界/下界/末地的库存。使用以下命令（将 "world"替换为主世界名称）：
```yml
/world inventory merge world world_nether world_the_end
```

## 1.1迁移
MyWorlds 分两个阶段加载玩家数据。首先加载主世界的玩家数据。如果该数据表明玩家位于具有不同库存的另一个世界，则加载该世界的玩家数据。如果玩家处于一个迁移前的世界，该世界的背包是独立的、分割的，他们登录后将看到他们的背包是空的。

要解决这个问题，可以将受影响玩家的玩家数据文件复制到他们最后所在的世界。如果你把主世界的所有玩家数据文件都复制到被分隔的世界中，这样就能解决所有人的问题，但同时也会导致所有不在被分隔世界中的玩家拥有和在主世界中一样的背包数据。这很复杂，所以备份很重要。

# 2.命令
管理世界库存的主要命令。语法如下：
```yml
/world inventory merge [world1] [world2] [world3]
/world inventory split [world1] [world2] [world3]
/world inventory enable [world]
/world inventory disable [world]
```
合并背包时，它们的所有状态都是共享的。共享状态的数据会保存在合并命令的第一个世界参数中，例如 "world1"。如果玩家在某个世界中有数据需要保留，请确保使用该世界名称作为第一个参数。

拆分时，世界名称的顺序并不重要。你指定的每个世界都会从任何共享状态中分离出来，并为该世界单独提供自己的背包。要迁移一个世界，可以先将其从原来的共享世界组中拆分出来，然后使用合并将其连接到另一个组。

任何玩家数据都不会因为拆分/合并而丢失。如果因为将主世界设置为背包组而不小心 "丢失 "了玩家的数据，可以将世界名/玩家数据文件夹复制到正确的位置，或者使用该世界的拆分命令让玩家（暂时）重新访问他们的旧背包数据。

通过 enable/disable，可以完全关闭该世界的背包保存。当玩家重新加入该世界时，他们的库存每次都会被完全清除。

# 3.权限
有几种权限可以配置背包分割行为：
**myworlds.world.inventory** - 是否可以使用库存合并/拆分等命令 **myworlds.world.keepinventory** - 使玩家在世界切换时始终保持背包数据。